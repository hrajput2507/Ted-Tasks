<app-home></app-home>
<div class="container">
    <h1 class="page-header">Posts</h1>

    <div class="row show-hide-message" *ngIf="message && newPost">
        <div [ngClass]="messageClass">
            {{ message }}
        </div>
    </div>

    <button type="button" name="button" class="btn btn-warning" *ngIf="!newPost" (click)="newpostForm()">New
        Post</button>


    <br />
    <br />

    <form [formGroup]="form" name="postForm" (submit)="onpostSubmit()" *ngIf="newPost">
        <div class="form-group">
            <label for="title">Title</label>
            <div
                [ngClass]="{'has-success': form.controls.title.valid, 'has-error': form.controls.title.dirty && form.controls.title.errors}">
                <input type="text" name="title" class="form-control" placeholder="post Title" autocomplete="off"
                    formControlName="title" />
            </div>
        </div>

        <div class="form-group">
            <label for="body">Body</label>
            <div>
                <textarea name="body" rows="8" cols="80" placeholder="*Body" class="form-control"
                    formControlName="body"></textarea>
            </div>
        </div>

        <button [disabled]="processing" type="button" name="button" (click)="goBack()" class="btn btn-warning">Go
            Back</button>&nbsp;

        <button [disabled]="processing " type="submit" name="button" class="btn btn-success">Submit</button>

    </form>

    <div *ngIf="!newPost">
        <div class="panel panel-primary" *ngFor="let post of postPosts">

            <div class="panel-heading">
                <h3 class="panel-title">{{ post.title }}</h3>
            </div>

            <div class="panel-body">
                {{ post.body }}
            </div>

            <div class="panel-footer">

                <a *ngIf="username === post.userId">
                    <button type="button" name="button" class="btn btn-sm btn-info">Edit</button>
                </a>
                <a *ngIf="username === post.userId">
                    <button type="button" name="button" class="btn btn-sm btn-danger">Delete</button>
                </a>
            </div>
        </div>
    </div>
</div>